version: '2'
services:
    witix-elasticsearch:
        build: elasticsearch/
        ports:
            - "9300:9300"
            - "9200:9200"
        # uncomment this section to have elasticsearch data persisted to a volume
        #volumes:
        #   - ./elasticsearch/data:/usr/share/elasticsearch/data
        networks:
            - witix
    witix-kibana-2:
        build: kibana/
        ports:
            - "5601:5601"
        depends_on: 
            - witix-elasticsearch
        environment:
            - ELASTICSEARCH_URL=http://witix-elasticsearch:9200    
        networks:
            - witix
networks:
    witix:
        ipam:
            config:
                - subnet: 10.2.2.0/24
